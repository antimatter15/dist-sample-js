function h(a){this.c=[];var b=[],d=0,c;for(c in a)a.hasOwnProperty(c)&&(this.c.push(c),b.push(a[c]),d+=a[c]);this.b=[];this.a=[];a=[];c=[];for(var g=1/b.length,e,f=0;f<b.length;f++)((b[f]/=d)>=g?c:a).push(f);for(;void 0!==(d=a.pop())&&void 0!==(e=c.pop());)this.a[d]=b[d]*b.length,this.b[d]=e,((b[e]+=b[d]-g)>=g?c:a).push(e);for(a=a.concat(c);a.length;)this.a[a.pop()]=1}h.prototype.next=function(){var a=Math.floor(Math.random()*this.a.length);return this.c[Math.random()<this.a[a]?a:this.b[a]]};
window.AliasMethod=h;